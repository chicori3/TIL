# 서버리스 시작하기

## 서버리스의 이점

1. 낮은 인프라 비용
2. 사용량에 따라 비용 조정
3. 확장성 및 가용성 포함
4. 혁신의 속도

## AWS Lambda 개요

1. 이벤트 소스는 Lambda 함수를 `트리거`한다
2. Lambda 함수가 코드를 실행한다
3. Lambda 함수는 서비스와 `상호 작용`한다

### 액세스 제어

IAM 리소스 정책 : 함수를 호출할 수 있는 권한
IAM 실행 역할 : 함수가 수행할 수 있는 작업

### Lambda 함수 및 객체 지향 설계

모든 Lambda 함수에는 `핸들러` 메서드가 있다.
    - 핸들러는 `Java MAIN`과 같다
    - 너무 많은 코드를 포함하지 말 것

핸들러
    - 함수 구성
    - Lambda 관련 코드
    - 비즈니스 로직 제외

컨트롤러
    - 이벤트 처리
    - `핵심` 비즈니스 로직

서비스
    - 외부 통합
    - 서비스 추상화

## 라이브러리와 프레임워크

### 라이브러리 사용에 대한 권장 사항

`콜드 스타트`(코드 다운로드 및 실행 컨텍스트 시작 - 실행 시간 부트스트랩) - `웜 스타트`(코드 시작)

부트스트랩 시간 제한
    - 종속성 최소화
    - 시작 비용 고려
    - 컴파일된 라이브러리를 정적으로 링크

## 서버리스 애플리케이션 관리

### 전체 스택 배포

배포 단계

1. 빌드
2. 코드 압축
3. Amazon S3에 업로드
4. 역할 생성 / 업데이트
5. 함수 생성
6. REST API 생성
7. 리소스 생성
8. 메서드 생성
9. Integration 업데이트
10. 테이블 생성

### AWS SAM을 사용한 배포

SAM 배포

`$sam package`
`$sam deploy`

